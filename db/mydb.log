/*C80*/SET SCHEMA PUBLIC
drop table if exists Game CASCADE 
drop table if exists Game_Tag CASCADE 
drop table if exists Game_User CASCADE 
drop table if exists Notification CASCADE 
drop table if exists Tag CASCADE 
drop table if exists User CASCADE 
drop table if exists User_Tag CASCADE 
drop table if exists User_User CASCADE 
drop table if exists UserGame CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table Game (id integer not null, CREATOR_ID bigint, DESCRIPTION varchar(255), TITLE varchar(255), primary key (id))
create table Game_Tag (Game_id integer not null, tags_TAG varchar(255) not null)
create table Game_User (Game_id integer not null, followers_id integer not null)
create table Notification (id bigint not null, DESCRIPTION varchar(255), PATH varchar(255), TITLE varchar(255), USER_ID bigint, primary key (id))
create table Tag (TAG varchar(255) not null, primary key (TAG))
create table User (id integer not null, NICK_NAME varchar(255), PASSWORD varchar(255), USER_NAME varchar(255), primary key (id))
create table User_Tag (User_id integer not null, likedtags_TAG varchar(255) not null)
create table User_User (User_id integer not null, followers_id integer not null)
create table UserGame (id bigint not null, GAME_ID bigint, SCORE integer, STATUS integer, USER_ID bigint, primary key (id))
alter table Game add constraint FKacf3glveoetjlcp4ka12po03g foreign key (id) references Game
alter table Game add constraint FKyssc3o1pmlto9df3r7t4pi5o foreign key (CREATOR_ID) references User
alter table Game_Tag add constraint FKktbty8gmitno6peldph5w3gt1 foreign key (tags_TAG) references Tag
alter table Game_Tag add constraint FKops6egco34l0ry7juvjtbar58 foreign key (Game_id) references Game
alter table Game_User add constraint FKrvvcwjig06e9ly4m42c0jqt9e foreign key (followers_id) references User
alter table Game_User add constraint FKrtsnya9pu5s485ktb3gwnl87j foreign key (Game_id) references Game
alter table User_Tag add constraint FKb2y1iu66ayy7yebhu7579dxtm foreign key (likedtags_TAG) references Tag
alter table User_Tag add constraint FK7kbu231q5ds873yxanr6odrp7 foreign key (User_id) references User
alter table User_User add constraint FKibcthdgq3a45afyil1ohqts32 foreign key (followers_id) references User
alter table User_User add constraint FKf41ur8bhykv2qqqpvsan2l7bs foreign key (User_id) references User
DISCONNECT
/*C81*/SET SCHEMA PUBLIC
drop table if exists Game CASCADE 
drop table if exists Game_Tag CASCADE 
drop table if exists Game_User CASCADE 
drop table if exists Notification CASCADE 
drop table if exists Tag CASCADE 
drop table if exists User CASCADE 
drop table if exists User_Tag CASCADE 
drop table if exists User_User CASCADE 
drop table if exists UserGame CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table Game (id integer not null, CREATOR_ID bigint, DESCRIPTION varchar(255), TITLE varchar(255), primary key (id))
create table Game_Tag (Game_id integer not null, tags_TAG varchar(255) not null)
create table Game_User (Game_id integer not null, followers_id integer not null)
create table Notification (id bigint not null, DESCRIPTION varchar(255), PATH varchar(255), TITLE varchar(255), USER_ID bigint, primary key (id))
create table Tag (TAG varchar(255) not null, primary key (TAG))
create table User (id integer not null, NICK_NAME varchar(255), PASSWORD varchar(255), USER_NAME varchar(255), primary key (id))
create table User_Tag (User_id integer not null, likedtags_TAG varchar(255) not null)
create table User_User (User_id integer not null, followers_id integer not null)
create table UserGame (id bigint not null, GAME_ID bigint, SCORE integer, STATUS integer, USER_ID bigint, primary key (id))
alter table Game add constraint FKacf3glveoetjlcp4ka12po03g foreign key (id) references Game
alter table Game add constraint FKyssc3o1pmlto9df3r7t4pi5o foreign key (CREATOR_ID) references User
alter table Game_Tag add constraint FKktbty8gmitno6peldph5w3gt1 foreign key (tags_TAG) references Tag
alter table Game_Tag add constraint FKops6egco34l0ry7juvjtbar58 foreign key (Game_id) references Game
alter table Game_User add constraint FKrvvcwjig06e9ly4m42c0jqt9e foreign key (followers_id) references User
alter table Game_User add constraint FKrtsnya9pu5s485ktb3gwnl87j foreign key (Game_id) references Game
alter table User_Tag add constraint FKb2y1iu66ayy7yebhu7579dxtm foreign key (likedtags_TAG) references Tag
alter table User_Tag add constraint FK7kbu231q5ds873yxanr6odrp7 foreign key (User_id) references User
alter table User_User add constraint FKibcthdgq3a45afyil1ohqts32 foreign key (followers_id) references User
alter table User_User add constraint FKf41ur8bhykv2qqqpvsan2l7bs foreign key (User_id) references User
/*C82*/SET SCHEMA PUBLIC
DISCONNECT
/*C83*/SET SCHEMA PUBLIC
DISCONNECT
/*C81*/DISCONNECT
/*C84*/SET SCHEMA PUBLIC
DISCONNECT
